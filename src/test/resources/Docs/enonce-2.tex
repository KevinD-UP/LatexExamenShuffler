\documentclass[10pt]{article}
\newtheorem{exi}{}
\newenvironment{exo}{\begin{exi}\em}{\end{exi}}

\addtolength{\topmargin}{-1cm}
\usepackage{amsmath,epsfig}
\def\python{\textsc{Python\xspace}}
\usepackage{listings}
\lstset{language=python}

\begin{document}
\vspace*{-1cm}

\noindent
{\bf NOM: \hspace*{5cm} PRENOM:}\\
\noindent
La clarté et la concision seront prises en compte lors de la correction.
Vous devez impérativement respecter les consignes suivantes :
\begin{itemize}
\item Vous téléchargez le fichier \verb+http://www.irif.fr/~haberm/sol_225241_58.py+
        \item Vous remplissez votre nom et prénom dans le fichier.
	\item Vous renommez ce fichier et rendez un unique fichier
              {\tt Prenom\_Nom.py}. 
        \item Au début vous pouvez importer les modules dont vous aurez besoin.
	\item Les noms de fonctions que vous écrirez {\bf doivent rester}
	  identiques à ceux du sujet et vous modifiez {\bf uniquement}
          le corps des fonctions.
          \item Laissez les symboles \verb+#+ en place
          et n'en utilisez pas ailleurs.
        \item Si vous avez besoin de fonctions intermédiaires, définissez les
{\bf à l'intérieur} de la fonction demandée.
        \item Les fonctions ne doivent rien {\bf afficher} (pas d'appel de la fonction \verb+print+).
\item Exemple:
\begin{verbatim}
"""...."""
import string
def question1c(l):
    def mafonctionauxilliaire(): 
        return
    mafonctionauxilliaire() 
    return l
#
def ....
#
\end{verbatim}
\end{itemize}

\begin{exo}Écrire une fonction {\tt question1c} qui prend comme argument une liste et
qui renvoie la somme du 5ème et du dernier élément. Par exemple
\verb+question1c([1,2,3,4,5,6,7,8,9,10])+ renvoie 15.
On suppose que la liste est suffisamment longue.
\end{exo}
\vspace*{-2ex}
\begin{exo}Écrire une fonction {\tt question2a} qui prend comme argument une liste d'entiers positifs et qui renvoie la liste des entiers de la liste d'entrée qui sont
supérieurs ou égaux à 5. Par exemple pour \verb+[10,9,2,3,4,5,6,7,8]+
on obtient \verb+[10,9,5,6,7,8]+.
\end{exo}
\vspace*{-2ex}
\begin{exo}Écrire une fonction {\tt question3d} qui prend comme argument une chaîne de
caractères composée de chiffres
et qui renvoie une liste de tous ses chiffres divisibles par $2$
auxquels on a soustrait $3$. Par
exemple pour \verb+"272346"+ on obtient \verb+[-1,-1,1,3]+.
\end{exo}
\vspace*{-2ex}
\begin{exo}Écrire une fonction {\tt question4d} qui prend en argument une liste de listes d'entiers et qui renvoie une liste de toutes les listes
de longueur supérieure ou égale à 3 où tous les éléments ont été multipliés par 3. Par exemple pour \verb+[[1,2,3],[2,3],[3,4,5]]+ on obtient \verb+[[3,6,9],[9,12,15]]+.
\end{exo}
\vspace*{-2ex}
\begin{exo}Écrire une fonction {\tt question5a} qui prend en argument le nom d'un fichier et qui retourne le nombre de fois où le fichier contient la lettre 'a' ou la
lettre 'b'.
Par exemple pour le fichier \verb+test5+ sur Moodle contenant: 
\begin{verbatim} 
aazefo ioaze fi bwbblariufffdddqqfff
qfg  uiuuaaabbeecccd dedeee
\end{verbatim} 
\verb+question5a("test5")+ retourne \verb+12+.
\end{exo}
\vspace*{-2ex}
\begin{exo}Écrire une fonction \verb+question6a+ qui prend en argument le nom d'un fichier
et retourne un dictionnaire de mots où chaque clé est une lettre de
l'alphabet et sa valeur correspondante la liste des mots du fichier commençant
par cette clé. Le fichier considéré comportera des mots 
sans lettre accentuée, avec un mot par ligne. Par exemple pour un fichier
contenant:
\begin{verbatim}
hello
hallo
bonjour
salut
\end{verbatim}
on obtient \verb+{'s': ['salut'], 'b': ['bonjour'], 'h': ['hello', 'hallo']}+\\
Sur Moodle vous trouverez un fichier long \verb+motsquestion6a+ pour tester.
\end{exo}
\vspace*{-2ex}
\begin{exo}Écrire une fonction {\tt question7d}
qui prend en argument une chaîne de caractères et qui renvoie
la première suite consécutive de $6$ voyelles ('a', 'e', 'i', 'o', 'u' ou 'y')
qui s'y trouvent ou \verb+None+
s'il n'y en a pas.
Par exemple pour \verb+"abebgeayuaieebbioaa"+ on obtient
\verb+'eayuai'+. Utilisez les expressions régulières.
\end{exo}
\vspace*{-2ex}
\begin{exo}Écrire une fonction {\tt question8d} qui prend en argument une liste
de chaînes de caractères et qui renvoie un ensemble de toutes les chaînes
qui contiennent la {\bf même} suite de 3
chiffres (entre 0 et 9) au moins 2 fois.
Par exemple, pour \verb+["1a24bbb24a24","00000","23032311230023","111111"]+
on obtient \verb+{'111111','23032311230023'}+.
Utilisez les expressions régulières.
\end{exo}
\vspace*{-2ex}
\begin{exo}La RATP fournit des données sur la fréquentation annuelle des stations de son
réseau. Le fichier CSV (sur Moodle: \verb+ratp.csv+) a le format suivant\\
\verb+Réseau;Station;Trafic;Correspondance_1;Corr_2;Corr_3;Corr_4;Corr_5;Ville;Arr. pour Paris+\\
Par exemple la première ligne du fichier\\
\verb+Métro;SAINT-LAZARE;45309544;3;9;12;13;14;Paris;8+\\
indique que le trafic annuel à la station Métro Saint-Lazare à Paris (accès aux lignes 3,9,12,13 et 14) dans le 8e arrondissement de Paris est de 45309544 passagers.
S'il y a moins que $5$ lignes accessibles à une station les champs correspondants sont vides. Le réseau peut être aussi RER.

Écrire une fonction {\tt question9b} qui prend en entrée un nom de fichier CSV
du format donné ci-dessus
et retourne la liste (sous forme de liste python) des lignes (chaînes
de caractères) du fichier (sans le \verb+\n+)
concernant les stations de {\bf RER dans Paris}.
\end{exo}
\vspace*{-2ex}
\begin{exo}Écrire une fonction {\tt question10b} qui prend en entrée un nom de fichier CSV
du format donné ci-dessus
et qui renvoie une liste d'association (dictionnaire) dont les clefs sont
des paires (Station,Réseau) et les valeurs leur fréquentation.
La valeur doit être un entier.
\end{exo}
\vspace*{-2ex}
\begin{exo}Écrire une fonction {\tt question11a} qui prend en entrée un nom de fichier CSV
du format donné ci-dessus et qui renvoie un dictionnaire dont les clefs sont
les lignes de Métro
avec comme valeur la station la plus fréquentée sur cette ligne.
\end{exo}
\vspace*{-2ex}
\end{document}
